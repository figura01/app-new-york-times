{"version":3,"sources":["lib/context/index.js","service/index.js","lib/state/actions/index.js","lib/state/reducers/top_stories.js","lib/state/reducers/most_popular.js","lib/state/reducers/index.js","lib/state/store/index.js","App.js","index.js"],"names":["links","name","icon","TabsContext","React","createContext","Provider","Consumer","TabsContextProvider","children","useState","active","state","setState","value","setActive","link","TabsContextConsumer","Constant","placeholderImg","Article","obj","this","title","abstract","url","section","date","published_date","media","img","multimedia","Request","api","get","Promise","onSuccess","onFailure","fetch","then","response","ok","json","data","results","map","result","index","console","log","catch","err","TOP_STORIES","MOST_POPULAR","actions","fetchPending","type","fetchSuccess","fetchError","payload","error","fetchMostPopular","most_popular","getTopStories","dispatch","top_stories","fetchTopStories","FETCH_TOP_STORIES","initialState","FETCH_MOST_POPULAR","FETCH_PENDING","FETCH_SUCCESS","FETCH_ERROR","isFetching","hasError","rootReducer","combineReducers","reducer","action","topStories","mostPopular","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Card","className","src","alt","width","height","style","href","target","rel","color","styles","left","borderTopLeftRadius","borderBottomLeftRadius","right","borderTopRightRadius","borderBottomRightRadius","info","padding","listStyleType","fontSize","Tabs","marginTop","onClick","List","useSelector","App","useDispatch","useEffect","a","request","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70ef0589.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\n\n\nconst links = [\n  {name: \"Top Stories\", icon: \"newspaper\"}, \n  {name: \"Most Popular\", icon: \"star\"}\n];\n\nconst TabsContext = React.createContext();\nconst { Provider, Consumer } = TabsContext;\n\nconst TabsContextProvider = ({ children }) => {\n  const [state, setState] = useState({\n    links: links,\n    active: links[0],\n  });\n  const setActive = link => {\n    setState({ ...state, active: link})\n  }\n  return <Provider value={{state, setActive}}>{children}</Provider>;\n}\n\nconst TabsContextConsumer = ({ children }) => {\n  return <Consumer>{children}</Consumer>\n}\n\nexport  { TabsContextProvider, TabsContextConsumer };","\n\nexport const Constant = {\n  BASE_URL: \"https://api.nytimes.com/svc/\",\n  TOP_STORIES: \"topstories/v2/home.json?\",\n  MOST_POPULAR: \"mostpopular/v2/emailed/7.json?\",\n  API_KEY: \"iyWxR90SJ62RWhcJp5qJFcpMSTerxWz0\"\n}\n\nconst placeholderImg = \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQDsfRCwQvpsd4O5b6IK9evG9H1PTxZLoI6ew5iVnlz3ftQjMBQ\";\n\n\nclass Article {\n  constructor(obj) {\n    this.title = obj.title;\n    this.abstract = obj.abstract;\n    this.url = obj.url;\n    this.section = obj.section;\n    this.date = obj.published_date;\n    if(obj.media) {\n      const media = obj.media[0];\n      this.img = media ? media[\"media-metadata\"][0].url : placeholderImg\n    } else if (obj.multimedia) {\n      this.img = obj.multimedia[0].url\n    } else {\n      this.img = placeholderImg\n    }\n  }\n}\n\nexport class Request {\n  constructor(api) {\n    this.url = `${Constant.BASE_URL}${api}api-key=${Constant.API_KEY}`\n  }\n  get = () => {\n    return new Promise((onSuccess, onFailure) => {\n      fetch(this.url)\n      .then((response) => \n        response.ok && response.json()\n      )\n      .then((data) => {\n        onSuccess(data.results.map((result, index) => new Article(result)))\n        console.log(data.results);\n      })\n      .catch(err => onFailure(err))\n    })\n  }\n}","import {Request, Constant} from '../../../service';\nconst {TOP_STORIES, MOST_POPULAR} = Constant;\n\nexport const actions = {\n  FETCH_PENDING: 'FETCH_PENDING',\n  FETCH_TOP_STORIES: 'FETCH_TOP_STORIES',\n  FETCH_MOST_POPULAR: 'FETCH_MOST_POPULAR',\n  FETCH_SUCCESS: 'FETCH_SUCCESS',\n  FETCH_ERROR: 'FETCH_ERROR'\n};\n\n// create actions\nexport function fetchPending() {\n  return {type: actions.FETCH_PENDING}\n}\n\nexport function fetchSuccess() {\n  return {type: actions.FETCH_SUCCESS}\n}\n\nexport function fetchError(err) {\n  return {\n    type: actions.FETCH_SUCCESS,\n    payload: {\n      error: err\n    }\n  }\n}\n\nexport function fetchTopStories(results) {\n  return {\n    type: actions.FETCH_TOP_STORIES,\n    payload: {\n      top_stories: results\n    }\n  };\n}\n\nexport function fetchMostPopular(results) {\n  return {\n    type: actions.FETCH_MOST_POPULAR,\n    payload: {\n      most_popular: results\n    }\n  };\n}\n\nexport function getTopStories() {\n  return dispatch => {\n    dispatch(fetchPending());\n    const request = new Request(TOP_STORIES);\n    request.get().then(results => {\n      dispatch(fetchSuccess());\n      dispatch(fetchTopStories(results));\n    }).catch(error => dispatch(fetchError(error)));\n  }\n}\n\nexport function getMostPopular() {\n  return async (dispatch) => {\n    dispatch(fetchPending());\n    const request = new Request(MOST_POPULAR);\n    try {\n      let results = await request.get();\n      dispatch(fetchSuccess());\n      dispatch(fetchMostPopular(results));\n    } catch (err) {\n      dispatch(fetchError(err))\n    }\n  };\n}\n","import {actions} from '../actions';\nconst { FETCH_TOP_STORIES } = actions;\n\nconst initialState = {\n  top_stories: [],\n};\n\nexport function topStories(state = initialState, action) {\n  switch (action.type) {\n    \n    case FETCH_TOP_STORIES: {\n      console.log('fetch top stories in reducer')\n      return {\n        ...state,\n        top_stories: action.payload.top_stories,\n      }\n    }\n\n    default:\n      return {\n        ...state\n      };\n  }\n}\n","import {actions} from '../actions';\nconst { FETCH_MOST_POPULAR } = actions;\n\nconst initialState = {\n  most_popular: []\n};\n\nexport function mostPopular(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_MOST_POPULAR: {\n      return {\n        ...state,\n        most_popular: action.payload.most_popular,\n      }\n    }\n\n    default:\n      return {\n        ...state\n      };\n  }\n}\n","import { combineReducers } from 'redux';\nimport { actions } from '../actions';\nimport { topStories } from './top_stories';\nimport { mostPopular } from './most_popular';\n\nconst {\n  FETCH_PENDING,\n  FETCH_SUCCESS,\n  FETCH_ERROR\n} = actions;\n\nconst initialState = {\n  isFetching: false,\n  hasError: null,\n};\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_PENDING: {\n        return {\n          ...state,\n          isFetching: true\n        };\n    }\n    case FETCH_SUCCESS:\n      {\n        return {\n          ...state,\n          isFetching: false,\n        }\n      }\n\n    case FETCH_ERROR: {\n      return {\n        ...state,\n        isFetching: false,\n        hasError: action.payload.error,\n      }\n    }\n\n    default:\n      return {\n        ...state\n      };\n  }\n}\n\nconst rootReducer = combineReducers({\n  reducer,\n  topStories,\n  mostPopular,\n})\n\nexport default rootReducer","import { createStore, compose, applyMiddleware } from 'redux';\nimport rootReducer from '../reducers';\nimport thunk from \"redux-thunk\";\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(\n  rootReducer,\n  composeEnhancer(applyMiddleware(thunk))\n);\n\n\n\n","import React, {useEffect} from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { TabsContextConsumer } from './lib/context';\nimport { getTopStories, getMostPopular } from './lib/state/actions';\n\nimport './App.css';\n\nconst Card = ({\n  abstract,\n  title,\n  date,\n  section,\n  url,\n  img\n}) => {\n  return (\n    <div className=\"card d-flex flex-row justify-content-between\">\n      <div className=\"d-flex\">\n        <img className=\"mr-4 rounded\"\n          src={\n            img\n          }\n          alt=\"placeholder\"\n          width=\"170\"\n          height=\"170\"/>\n        <div className=\"d-flex flex-column\"\n          style={\n            {width: \"75%\"}\n        }>\n          <p>\n            <small>\n              <strong>{date}</strong>\n            </small>\n          </p>\n          <h5>\n            <a href={url}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={\n                {color: \"#2980b9\"}\n            }>\n              {title} </a>\n          </h5>\n          <i>{abstract}</i>\n        </div>\n      </div>\n      <p className=\"d-flex text-right\"\n        style={\n          {color: \"#2980b9\"}\n      }>\n        <strong>{section}</strong>\n      </p>\n    </div>\n  );\n};\n\nconst styles = {\n  left: {\n    borderTopLeftRadius: \"20px\",\n    borderBottomLeftRadius: \"20px\"\n  },\n  right: {\n    borderTopRightRadius: \"20px\",\n    borderBottomRightRadius: \"20px\"\n  },\n  info: {\n    padding: 0,\n    listStyleType: \"none\",\n    fontSize: \"14px\"\n  }\n};\n\nconst Tabs = ({ state: { links, active}, setActive }) => {\n  return (\n    <div className=\"d-flex justify-content-center mb-4\">\n      <ul className=\"nav nav-pills nav-fill\"\n        style={\n          {\n            marginTop: \"20px\",\n            width: \"70%\"\n          }\n      }>\n        \n      {links.map((link, index) => {\n        return (\n          <li key={index} className=\"nav-item\" onClick={() => setActive(link)} >\n           \n            <a \n              href=\"#\"\n              rel=\"noreferrer\"\n              className={`nav-link ${link.name === active.name && \"active\"}`}\n              style={index === 0 ? styles.left : styles.right }\n            >\n              <i className={`fas fa-${link.icon}`}></i> {link.name}\n            </a>\n          </li>\n        );\n      })}\n       \n      </ul>\n    </div>\n  )\n}\n\nconst List = ({ state: { active } }) => {\n  const { top_stories } = useSelector((state) => ({ ...state.topStories }));\n  const { most_popular } = useSelector((state) => ({ ...state.mostPopular }));\n  const results = active.name === \"Top Stories\" ? top_stories : most_popular;\n  return results.map((result, index) => <Card key={index} {...result} />);\n}\n\nfunction App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getTopStories());\n   dispatch(getMostPopular());\n  }, [dispatch]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"col-md-8 offset-md-2\">\n        <TabsContextConsumer>\n        {(value) => {\n          return (\n            <>\n              <Tabs {...value} />\n              <List {...value} />\n            </>\n          )\n        }}\n        </TabsContextConsumer>\n       \n       </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\";\nimport { TabsContextProvider } from './lib/context';\nimport { store } from './lib/state/store';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <TabsContextProvider>\n        <App />\n      </TabsContextProvider>\n    </Provider>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}