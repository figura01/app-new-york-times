(this["webpackJsonpapp-nyts"]=this["webpackJsonpapp-nyts"]||[]).push([[0],{28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(5),i=n.n(a),s=n(4),o=n(2),l=n(15),u=n(1),j=[{name:"Top Stories",icon:"newspaper"},{name:"Most Popular",icon:"star"}],d=r.a.createContext(),h=d.Provider,p=d.Consumer,b=function(t){var e=t.children,n=Object(c.useState)({links:j,active:j[0]}),r=Object(l.a)(n,2),a=r[0],i=r[1];return Object(u.jsx)(h,{value:{state:a,setActive:function(t){i(Object(o.a)(Object(o.a)({},a),{},{active:t}))}},children:e})},f=function(t){var e=t.children;return Object(u.jsx)(p,{children:e})},O=n(3),m=n(10),v=n.n(m),x=n(13),g=n(11),y="https://api.nytimes.com/svc/",_="iyWxR90SJ62RWhcJp5qJFcpMSTerxWz0",w="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQDsfRCwQvpsd4O5b6IK9evG9H1PTxZLoI6ew5iVnlz3ftQjMBQ",S=function t(e){if(Object(g.a)(this,t),this.title=e.title,this.abstract=e.abstract,this.url=e.url,this.section=e.section,this.date=e.published_date,e.media){var n=e.media[0];this.img=n?n["media-metadata"][0].url:w}else e.multimedia?this.img=e.multimedia[0].url:this.img=w},E=function t(e){var n=this;Object(g.a)(this,t),this.get=function(){return new Promise((function(t,e){fetch(n.url).then((function(t){return t.ok&&t.json()})).then((function(e){t(e.results.map((function(t,e){return new S(t)}))),console.log(e.results)})).catch((function(t){return e(t)}))}))},this.url="".concat(y).concat(e,"api-key=").concat(_)},T="topstories/v2/home.json?",N="mostpopular/v2/emailed/7.json?",R="FETCH_PENDING",C="FETCH_TOP_STORIES",k="FETCH_MOST_POPULAR",F="FETCH_SUCCESS";function P(){return{type:R}}function H(){return{type:F}}function I(t){return{type:F,payload:{error:t}}}function M(t){return{type:k,payload:{most_popular:t}}}function A(){return function(t){t(P()),new E(T).get().then((function(e){t(H()),t(function(t){return{type:C,payload:{top_stories:t}}}(e))})).catch((function(e){return t(I(e))}))}}var J=C,L={top_stories:[]};var B=k,D={most_popular:[]};var Q=R,z=F,G="FETCH_ERROR",U={isFetching:!1,hasError:null};var W=Object(O.c)({reducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Q:return Object(o.a)(Object(o.a)({},t),{},{isFetching:!0});case z:return Object(o.a)(Object(o.a)({},t),{},{isFetching:!1});case G:return Object(o.a)(Object(o.a)({},t),{},{isFetching:!1,hasError:e.payload.error});default:return Object(o.a)({},t)}},topStories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case J:return console.log("fetch top stories in reducer"),Object(o.a)(Object(o.a)({},t),{},{top_stories:e.payload.top_stories});default:return Object(o.a)({},t)}},mostPopular:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case B:return Object(o.a)(Object(o.a)({},t),{},{most_popular:e.payload.most_popular});default:return Object(o.a)({},t)}}}),q=n(14),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,X=Object(O.e)(W,V(Object(O.a)(q.a))),K=(n(28),function(t){var e=t.abstract,n=t.title,c=t.date,r=t.section,a=t.url,i=t.img;return Object(u.jsxs)("div",{className:"card d-flex flex-row justify-content-between",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("img",{className:"mr-4 rounded",src:i,alt:"placeholder",width:"170",height:"170"}),Object(u.jsxs)("div",{className:"d-flex flex-column",style:{width:"75%"},children:[Object(u.jsx)("p",{children:Object(u.jsx)("small",{children:Object(u.jsx)("strong",{children:c})})}),Object(u.jsx)("h5",{children:Object(u.jsxs)("a",{href:a,target:"_blank",rel:"noreferrer",style:{color:"#2980b9"},children:[n," "]})}),Object(u.jsx)("i",{children:e})]})]}),Object(u.jsx)("p",{className:"d-flex text-right",style:{color:"#2980b9"},children:Object(u.jsx)("strong",{children:r})})]})}),Z={left:{borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px"},right:{borderTopRightRadius:"20px",borderBottomRightRadius:"20px"},info:{padding:0,listStyleType:"none",fontSize:"14px"}},Y=function(t){var e=t.state,n=e.links,c=e.active,r=t.setActive;return Object(u.jsx)("div",{className:"d-flex justify-content-center mb-4",children:Object(u.jsx)("ul",{className:"nav nav-pills nav-fill",style:{marginTop:"20px",width:"70%"},children:n.map((function(t,e){return Object(u.jsx)("li",{className:"nav-item",onClick:function(){return r(t)},children:Object(u.jsxs)("a",{href:"#",rel:"noreferrer",className:"nav-link ".concat(t.name===c.name&&"active"),style:0===e?Z.left:Z.right,children:[Object(u.jsx)("i",{className:"fas fa-".concat(t.icon)})," ",t.name]})},e)}))})})},$=function(t){var e=t.state.active,n=Object(s.c)((function(t){return Object(o.a)({},t.topStories)})).top_stories,c=Object(s.c)((function(t){return Object(o.a)({},t.mostPopular)})).most_popular;return("Top Stories"===e.name?n:c).map((function(t,e){return Object(u.jsx)(K,Object(o.a)({},t),e)}))};var tt=function(){var t=Object(s.b)();return Object(c.useEffect)((function(){t(A()),t(function(){var t=Object(x.a)(v.a.mark((function t(e){var n,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(P()),n=new E(N),t.prev=2,t.next=5,n.get();case 5:c=t.sent,e(H()),e(M(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e(I(t.t0));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(u.jsx)(f,{children:function(t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Y,Object(o.a)({},t)),Object(u.jsx)($,Object(o.a)({},t))]})}})})})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(s.a,{store:X,children:Object(u.jsx)(b,{children:Object(u.jsx)(tt,{})})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.70ef0589.chunk.js.map